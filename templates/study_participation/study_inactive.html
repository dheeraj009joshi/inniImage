{% extends "base.html" %}

{% block title %}Study Unavailable{% endblock %}

{% block content %}
<div class="study-inactive-container">
    <div class="study-inactive-card">
        <div class="inactive-icon">⚠️</div>
        <h1 class="inactive-title">Study Currently Unavailable</h1>
        
        <p class="inactive-message">The study "<strong>{{ study.title }}</strong>" is currently not available for participation.</p>
        
        {% if study.status == 'draft' %}
        <div class="status-info">
            <h3>Draft Status</h3>
            <p>This study is still in draft mode and has not been launched yet. The researcher is still setting up the study parameters.</p>
        </div>
        {% elif study.status == 'paused' %}
        <div class="status-info">
            <h3>Study Paused</h3>
            <p>This study has been temporarily paused by the researcher. It may be paused for maintenance, updates, or other reasons.</p>
        </div>
        {% elif study.status == 'completed' %}
        <div class="status-info">
            <h3>Study Completed</h3>
            <p>This study has been completed and is no longer accepting new participants. The data collection phase has ended.</p>
        </div>
        {% else %}
        <div class="status-info">
            <h3>Study Status Unknown</h3>
            <p>The current status of this study is unclear. It may be under maintenance or experiencing technical issues.</p>
        </div>
        {% endif %}
        
        <div class="inactive-actions">
            <a href="{{ url_for('index.index') }}" class="btn btn--primary">Return Home</a>
            <button class="btn btn--secondary" onclick="window.location.reload()">Refresh Page</button>
        </div>
    </div>
</div>

<style>
.study-inactive {
    text-align: center;
    max-width: 600px;
    margin: 3rem auto;
    padding: 2rem;
}

.inactive-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
}

.study-inactive h1 {
    color: var(--danger-color);
    margin-bottom: 1.5rem;
}

.inactive-message {
    margin-bottom: 2rem;
}

.status-info {
    background: var(--background-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    margin: 1.5rem 0;
    text-align: left;
}

.status-info h3 {
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.status-info.draft {
    border-left: 4px solid var(--warning-color);
}

.status-info.paused {
    border-left: 4px solid var(--info-color);
}

.status-info.completed {
    border-left: 4px solid var(--success-color);
}

.status-info.unknown {
    border-left: 4px solid var(--secondary-color);
}

.study-details {
    background: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    margin: 2rem 0;
    text-align: left;
}

.study-details h3 {
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.details-grid {
    display: grid;
    gap: 1rem;
}

.detail-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    background: var(--background-color);
    border-radius: var(--radius-sm);
}

.detail-label {
    font-weight: 500;
    color: var(--text-secondary);
}

.detail-value {
    font-weight: 600;
    color: var(--text-primary);
}

.status-draft {
    color: var(--warning-color);
}

.status-paused {
    color: var(--info-color);
}

.status-completed {
    color: var(--success-color);
}

.actions {
    margin: 2rem 0;
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.contact-info {
    margin-top: 2rem;
    padding: 1rem;
    background: var(--background-color);
    border-radius: var(--radius-sm);
    font-size: 0.9rem;
}

.contact-info p {
    margin-bottom: 0.5rem;
}

.contact-info p:last-child {
    margin-bottom: 0;
}
</style>
{% endblock %}
